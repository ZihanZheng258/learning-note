当需要内存时，可以使用new来请求，这只是C++内存管理数据包

中有魅力的一个方面。另一个方面是delete运算符，它使得在使用完内

存后，能够将其归还给内存池，这是通向最有效地使用内存的关键一

步。归还或释放（free）的内存可供程序的其他部分使用。使用delete

时，后面要加上指向内存块的指针（这些内存块最初是用new分配

的）：

![[Pasted image 20250510194419.png]]

这将释放ps指向的内存，但不会删除指针ps本身。例如，可以将ps

重新指向另一个新分配的内存块。一定要配对地使用new和delete；否则

将发生内存泄漏（memoryleak），也就是说，被分配的内存再也无法

使用了。如果内存泄漏严重，则程序将由于不断寻找更多内存而终止。

不要尝试释放已经释放的内存块，C++标准指出，这样做的结果将

是不确定的，这意味着什么情况都可能发生。另外，不能使用delete来

释放声明变量所获得的内存：

![[Pasted image 20250510194509.png]]


注意，使用delete的关键在于，将它用于new分配的内存。这并不意

味着要使用用于new的指针，而是用于new的地址：

![[Pasted image 20250510194529.png]]

