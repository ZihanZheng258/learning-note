### 2. 内部链接 (Internal Linkage)

- **定义：** 具有内部链接的名称，==只能在**定义它的那个编译单元（源文件）内部**被引用。==
    
- **特性：**
    
    - ==**文件局部可见性：** 就像一个文件的私有成员，其他文件无法看到或访问它。==
        
    - **私有副本：** ==如果不同的编译单元中定义了同名的内部链接实体，它们是完全独立的，互不影响。==每个文件都有自己的副本。
        
    - **通过 `static` 关键字实现：**
        
        - ==**文件作用域的非 `const` 全局变量：** 使用 `static` 关键字修饰。==
            
        - **`static` 函数：** ==使用 `static` 关键字修饰（在 C++ 中不推荐直接修饰函数，更推荐使用匿名命名空间）==。
            
        - ==**`const` 全局变量：** 默认具有内部链接（除非显式 `extern`）。==
            
        - **`const` 静态成员变量：** 默认具有内部链接。
            
- **用途：** 避免命名冲突，实现模块化，将变量或函数的作用域限制在单个文件内，提高代码的安全性。

``` C++
// c.cpp
static int internalVar = 30; // 定义一个具有内部链接的变量

static void internalFunc() { // 定义一个具有内部链接的函数
    // ...
}

void someFunctionInC() {
    internalVar++;
    internalFunc();
}

// d.cpp
static int internalVar = 40; // 这是另一个独立的变量，与 c.cpp 中的 internalVar 无关

static void internalFunc() { // 这是另一个独立的函数，与 c.cpp 中的 internalFunc 无关
    // ...
}

void someFunctionInD() {
    internalVar--;
    internalFunc();
}
```