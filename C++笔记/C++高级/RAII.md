## 1.什么是[RAII](https://zhida.zhihu.com/search?content_id=6054031&content_type=Article&match_order=1&q=RAII&zhida_source=entity)

RAII（**R**esource **A**cquisition **I**s **I**nitialization）==是由c++之父[Bjarne Stroustrup](https://zhida.zhihu.com/search?content_id=6054031&content_type=Article&match_order=1&q=Bjarne+Stroustrup&zhida_source=entity)提出的，中文翻译为资源获取即初始化，他说：使用局部对象来管理资源的技术称为资源获取即初始化==；这里的资源主要是指操作系统中有限的东西如内存、网络套接字等等，局部对象是指存储在栈的对象，它的生命周期是由操作系统来管理的，无需人工介入；

## 2.RAII的原理

资源的使用一般经历三个步骤a.获取资源 b.使用资源 c.销毁资源，但是资源的销毁往往是程序员经常忘记的一个环节，==所以程序界就想如何在程序员中让资源自动销毁呢？c++之父给出了解决问题的方案：RAII==，它充分的利用了C++语言局部对象自动销毁的特性来控制资源的生命周期。给一个简单的例子来看下局部对象的自动销毁的特性：

简单来说，==RAII 这项技术的目的是将资源的生命周期绑定到某个对象（Object）==上。对象，一般情况是某个类的示例。这么做有下面几个好处：

1. ==保证资源在使用的时候已经进行了初始化==，避免访问未初始化的内存地址而crash
2. ==保证资源在程序正常退出的时候进行了释放==，避免未释放导致的内存泄漏
3. ==保证资源在运行出错的时候也能被正常释放==


RAII 的实现可以总结为：

- ==将每个资源封装到一个类中，类的构造函数获取资源==，如果获取资源失败，则抛出一个异常。
- ==类的解构函数释放资源，并且保证不抛出异常==，因此保证资源的释放是没问题的
