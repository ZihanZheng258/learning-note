Rust中**所有权（Ownership）**存在的范围，也就是一个值被拥有和管理生命周期的范围，是由**作用域（Scope）**来划定的。

### 什么是作用域？

作用域是程序中一个项（item）有效的范围。在Rust中，作用域通常由一对**花括号 `{}`** 来定义。当一个值进入作用域时，它被创建并获得所有权；当它离开作用域时，它就会被自动销毁，其内存也会被回收。

### 作用域与所有权的关系

我们通过一个简单的例子来理解这个概念

```rust
fn main() { // main函数的作用域开始
    { // 内部作用域A开始
        let s = String::from("hello"); // s进入作用域A，s是这个字符串的所有者
        // ... s可以在这里被使用 ...
    } // 内部作用域A结束，s在这里被丢弃（drop），其内存被自动释放。
    
    // println!("{}", s); // 错误！s已不存在，超出作用域范围。
    
    let x = 5; // x进入main函数的作用域，x是5的所有者
    { // 内部作用域B开始
        let y = x; // y是5的拷贝，y是这个拷贝的所有者
        // ...
    } // 内部作用域B结束，y被丢弃，但x依然存在
    
    println!("x is {}", x); // 没问题，x仍然在自己的作用域内。
} // main函数的作用域结束，x被丢弃。
```

在这个例子中：

- `s` 的所有权范围被限制在第一个花括号 `{}` 块内。一旦代码执行到 `}`，`s` 就会被**丢弃（drop）**，它所关联的内存也会被自动释放。
    
- `x` 的所有权范围是整个 `main` 函数。
    
- `y` 的所有权范围是第二个花括号 `{}` 块。`y` 只是 `x` 的一个**拷贝**（因为`i32`是实现了`Copy` trait的类型），所以`y`的生命周期和`x`是独立的。