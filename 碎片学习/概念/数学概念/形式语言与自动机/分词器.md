分词器（Tokenizer）通常被实现为一个状态机（State Machine）。

## 什么是分词器 (Tokenizer)?

分词器是浏览器内核解析 HTML 时的第一个关键组件。它的核心工作是：

- **输入：** 接收来自网络或本地文件的 HTML **字符流**。
    
- **输出：** 生成一系列具有明确意义的结构单元——**令牌（Tokens）**。
    

您可以把分词器想象成一个翻译官。它接收原始的、无结构的字符（比如：`<`，`d`，`i`，`v`，`>`），然后根据 HTML 的语法规则，将它们打包成一个个有意义的“词语”==（比如：一个完整的 **起始标签令牌** `<div>`）。==

## 为什么分词器是状态机？

分词器被设计成一个**状态机**，是因为 HTML 语法规则的复杂性和其对上下文的依赖性。

### 1. 状态机的概念

状态机是一种抽象模型，它在任一时刻都处于**有限个状态**中的一个。==它通过接收**输入（Input）**，并根据当前所处的**状态（State）**来决定：==

1. 接下来要执行的操作（例如：收集字符）。
    
2. 要转移到下一个什么**状态**。
    
3. 要**输出**什么。