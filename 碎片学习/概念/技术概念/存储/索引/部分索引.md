部分索引（Partial Index），也称为条件索引（Conditional Index），==是一种只对表中**符合特定条件的行**创建的索引。==

你可以把它理解成一个**有选择性的目录**，只收录你最需要查找的那部分内容，从而让索引更小、更高效。

### 为什么要用部分索引？

在大多数情况下，你可能只对表中的一小部分数据进行查询。例如：

- 一个电商订单表，你经常查询**未付款**的订单。
    
- 一个博客文章表，你经常查询**已发布**的文章。
    
- 一个用户表，你经常查询**活跃**的用户。
    

==如果对整张表创建普通索引，索引中会包含所有行的信息，包括那些你几乎不查询的数据（如已付款的订单、草稿箱中的文章）。这会导致：==

- **索引体积大**：占用更多磁盘空间。
    
- **索引维护成本高**：每次插入、更新或删除数据时，即使是那些不需要索引的行，数据库也需要更新索引，增加了写操作的负担。
    

部分索引就是为了解决这些问题而生的。

### 部分索引的优势

1. **更小的索引体积**：只包含目标行的数据，大大减少了磁盘空间占用。
    
2. **更快的写入性能**：当向表中添加或更新不符合索引条件的行时，数据库不需要更新索引，从而提升了写入速度。
    
3. **更快的查询性能**：由于索引体积小，数据库在加载索引时速度更快，且能更有效地利用缓存
4. 可以用于存在逻辑删除逻辑时，处理其他的唯一索引键