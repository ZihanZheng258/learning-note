**推流（Stream Push/Publishing）**是视频直播领域的一个核心概念，==它是指将**采集到的音视频内容**发送到**云端直播服务器**的过程==。

简单来说，推流就是**主播或视频源把内容“推”出去**，让服务器接收并进行后续分发。

## 推流的完整工作流程

推流是实时直播的第一步，通常涉及以下几个阶段：

### 1. 采集 (Capture)

- **设备：** 使用摄像头、麦克风、手机、电脑桌面、专业采集卡等设备，捕获原始的视频画面和音频信号。
    
- **内容：** 原始的音视频数据量通常非常大。
    

### 2. 预处理 (Pre-processing)

- 在推流之前，通常会对采集到的信号进行处理，以优化观众体验。
    
- **功能：** 包括美颜、滤镜、降噪、混音、水印添加等。
    

### 3. 编码 (Encoding)

- 原始的视频数据过于庞大，无法高效传输。因此需要进行压缩。
    
- **作用：** 使用**编码器**（如 H.264、H.265 用于视频；AAC 用于音频）==对音视频数据进行高效压缩，以减小数据量==。
    

### 4. 封装 (Packaging)

- 将编码后的音视频数据打包成一个可以在网络上传输的**流格式**。
    
- **协议：** 常用的推流协议是 **RTMP (Real-Time Messaging Protocol)**。==它是一种基于 TCP 的协议，能确保数据可靠传输，且被早期的直播技术广泛支持。==
    

### 5. 推送 (Pushing)

- **执行：** 推流软件（如 OBS Studio、手机直播 App 中的 SDK）将封装好的音视频流数据包，==以约定的协议（如 RTMP）发送到**直播服务提供商的接入服务器（Ingest Server）**==。
    
- **地址：** 推送时需要使用一个特定的 **推流地址 (Push URL)**，这个地址包含了服务器地址、应用名称和唯一的流密钥/ID。