“隐藏权限”通常指的是 **SUID (Set User ID)**、**SGID (Set Group ID)** 和 **Sticky Bit (粘滞位)** 这三种特殊权限。它们通过在文件或目录的基本权限位上添加额外的功能，提供了更细粒度的控制。

### 1. SUID (Set User ID) - 用户ID设置位

- **作用对象：** 仅对**可执行文件**有效。
    
- **功能：** ==当一个设置了 SUID 位的可执行文件被任何用户执行时，该程序会以文件**所有者**的权限运行，而不是执行它的用户的权限。==
    
- **表示：** 在 `ls -l` 的输出中，SUID 位会出现在**文件所有者**的执行位 `x` 的位置，显示为 `s` (小写s)。如果文件所有者本身没有执行权限，则显示为 `S` (大写S)。
    
- **应用场景：** 最经典的例子是 `passwd` 命令。普通用户执行 `passwd` 命令时，它需要修改 `/etc/shadow` 文件，而这个文件只有 `root` 用户才有写入权限。通过设置 `passwd` 命令的 SUID 位，普通用户执行 `passwd` 时，该命令会临时以 `root` 用户的身份运行，从而完成密码修改操作。
    
- **风险：** SUID 位具有一定的安全风险，因为恶意用户可能会利用设置了 SUID 位的程序来获取不当的权限。因此，在设置 SUID 位时需要非常谨慎。
    

### 2. SGID (Set Group ID) - 组ID设置位

- **作用对象：** 可以对**文件**和**目录**都有效。
    
    - **对可执行文件：** ==当设置了 SGID 位的可执行文件被执行时，该程序会以文件**所有组**的权限运行，而不是执行它的用户的**主组**权限。==
        
        - **表示：** 在 `ls -l` 的输出中，SGID 位会出现在**文件所有组**的执行位 `x` 的位置，显示为 `s` (小写s)。如果文件所有组本身没有执行权限，则显示为 `S` (大写S)。
            
    - **对目录：** ==这是 SGID 更常见的用途。当一个目录设置了 SGID 位后，在该目录下创建的**所有新文件和子目录**都会自动继承该目录的**组所有权**，而不是创建者所属的主组==。
        
        - **表示：** 在 `ls -l` 的输出中，SGID 位会出现在**目录所有组**的执行位 `x` 的位置，显示为 `s` (小写s)。
            
        - **应用场景：** 非常适用于团队协作。例如，一个项目团队共用一个目录 `/project`，将 `/project` 的 SGID 位设置为 `g+s`。那么团队成员在这个目录下创建的任何文件都会自动属于该项目的组，方便团队成员共同协作和管理文件。
            

### 3. Sticky Bit (粘滞位) - 限制删除位

- **作用对象：** 仅对**目录**有效。
    
- **功能：** ==当一个目录设置了 Sticky Bit 后，即使其他用户对该目录有写入权限，他们也**只能删除或重命名**自己创建的文件或子目录。他们不能删除或重命名其他用户创建的文件==。
    
- **表示：** 在 `ls -l` 的输出中，Sticky Bit 会出现在**其他用户**的执行位 `x` 的位置，显示为 `t` (小写t)。如果其他用户本身没有执行权限，则显示为 `T` (大写T)。
    
- **应用场景：** 最典型的例子是 `/tmp` 目录。`/tmp` 目录是所有用户都可以写入的临时目录，但为了防止用户删除其他用户的临时文件，就设置了 Sticky Bit。这样，每个用户都可以在 `/tmp` 中创建文件，但只能删除自己的文件。