**默认权限**是指在 Linux 系统中，==当你创建新的文件或目录时，它们所自动获得的初始权限。这个默认权限是通过 **`umask`** 值来控制的。==

- **什么是 `umask`？** `umask`（user mask）是一个权限掩码。它不是直接设置默认权限，==而是**指定了从最大可能权限中“减去”的权限位**。==
    
- **最大可能权限：**
    
    - 对于**文件**：==默认的最大权限是 `666` (rw-rw-rw-，即所有者、组、其他人都有读写权限，但不包含执行权限，因为通常新创建的文件不是可执行的)。==
        
    - 对于**目录**：默认的最大权限是 `777` (rwxrwxrwx，即所有者、组、其他人都有读、写、执行权限，因为目录的执行权限意味着进入目录的权利)。
        
- **`umask` 的计算方式：** 最终的文件/目录权限 = 最大可能权限 - `umask` 值。
    
    例如：
    
    - 如果 `umask` 是 `0022`：
        
        - 对于**文件**：`666 - 022 = 644` (rw-r--r--)
            
        - 对于**目录**：`777 - 022 = 755` (rwxr-xr-x)
            
    - 如果 `umask` 是 `0002`：
        
        - 对于**文件**：`666 - 002 = 664` (rw-rw-r--)
            
        - 对于**目录**：`777 - 002 = 775` (rwxrwxr-x)
            
- **如何查看和设置 `umask`：**
    
    - **查看当前 `umask`：** 在==终端中直接输入 `umask` 命令即可。通常会看到一个四位八进制数，例如 `0022` 或 `0002`。第一个 `0` 表示特殊权限位，通常忽略。==
        
    - **设置 `umask`：** 使用 `umask` 命令后跟一个八进制数。例如：`umask 0027`。
        
    - **永久设置 `umask`：** 为了让 `umask` 设置在每次登录时都生效，你需要将其写入到用户的 shell 配置文件中，例如 `~/.bashrc` 或 `~/.profile`。
        
- **为何 `umask` 对于文件和目录有不同的计算基准？** 这是因为文件通常不需要执行权限，而目录需要执行权限才能被“进入”。系统会智能地处理这一点，确保新文件不会获得不必要的执行权限。