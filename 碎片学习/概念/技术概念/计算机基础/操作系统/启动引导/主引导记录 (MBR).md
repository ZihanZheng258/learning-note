**主引导记录 (MBR)** 是一种古老的硬盘分区方案，==也是与传统 **BIOS** 固件配套的启动方式==。它就像是硬盘的“户口本”，记录着分区信息，同时又像一个“启动器”，负责加载操作系统。

---

### MBR 的位置和组成

==MBR 位于硬盘的**第一个扇区**==（通常是 0 柱面、0 磁头、1 扇区），大小固定为 **512 字节**。这 512 个字节被严格划分为三个部分：

1. **引导代码 (Boot Code)**：这是 MBR 中最重要的部分，占据 **446 字节**。这部分代码由操作系统安装程序写入，其唯一任务就是找到**活动分区**（也就是被标记为可启动的分区），==然后加载该分区的**分区引导记录（PBR）**，最终将控制权交给它。==
    
2. **分区表 (Partition Table)**：这部分占据 **64 字节**。它就像一份迷你目录，每 16 个字节记录一个分区的信息，包括该分区的类型、起始和结束位置、以及大小。由于空间有限，它最多只能记录**四个主分区**的信息。
    
3. **结束标志 (End Mark)**：最后 **2 2个字节**是一个固定的结束标志 (`55AAh`)，用于告诉 BIOS 这确实是一个有效的 MBR。
    

### 它是如何工作的？

MBR 的工作流程与 BIOS 紧密相连：

1. **开机自检 (POST)**: 电脑开机后，==**BIOS** 固件首先运行，对所有硬件进行自检。==
    
2. **寻找 MBR**: 自检完成后，BIOS 会严格按照预设的顺序（通常是硬盘、U盘、光驱等）寻找第一个可启动设备。一旦找到硬盘，==它就会去读取硬盘上的**第一个扇区**，也就是 MBR==。
    
3. **加载 MBR**: BIOS 将这 512 字节的 MBR 内容完整地加载到内存中的一个特定地址（`0x7c00`）。
    
4. **执行引导代码**: BIOS 将控制权交给 MBR 中的那段 **446 字节的引导代码**。这段代码会扫描分区表，==找到那个被标记为“活动”（即**可启动**）的分区。==
    
5. **加载操作系统**: 引导代码接着会读取活动分区的==**引导扇区（VBR）**，并执行其中的代码，最终启动操作系统。==
    

### MBR 的主要限制

尽管 MBR 在很长一段时间内都是主流，但它的古老设计也带来了几个不可忽视的限制，这也是它被 UEFI 和 GPT 取代的主要原因：

- **2TB 容量限制**: MBR 分区表使用 32 位来存储扇区地址和分区大小，这导致它能寻址的最大硬盘容量为 2TB。如果你的硬盘大于 2TB，超出部分将无法被 MBR 识别和使用。
    
- **主分区数量限制**: MBR 分区表只能定义四个分区。如果你需要更多分区，就必须创建一个**扩展分区**，并在其内部划分**逻辑分区**，这使得分区结构变得复杂。
    
- **没有备份**: MBR 位于硬盘的唯一位置，没有副本。如果这个扇区损坏，硬盘上的分区信息就会丢失，导致操作系统无法启动，数据也很难恢复。