**1. 基于哈希的映射：**

- **原理：** 对大文件中的每个数据块（可以是固定大小的块、行、或者根据特定分隔符划分的数据单元）计算其哈希值。然后，将哈希值对小文件的数量取模，得到的结果就是该数据块应该写入的小文件的索引。
- **步骤：**
    1. 确定要创建的小文件数量，例如 `N`。
    2. 选择一个合适的哈希函数，例如 MD5、SHA-1、SHA-256 等。选择哈希函数的关键在于其分布均匀性，以尽量避免数据倾斜。
    3. 遍历大文件，按块读取数据。
    4. 对每个数据块计算哈希值。
    5. 将哈希值对 `N` 取模，得到一个介于 `0` 到 `N-1` 之间的整数。这个整数就是目标小文件的索引。
    6. 将当前数据块写入对应索引的小文件中。
- **优点：** 数据分布相对均匀，即使原始数据分布不均匀，哈希函数也能在一定程度上打散数据。
- **缺点：** 相同的原始数据会映射到同一个小文件，但不同的原始数据也可能映射到同一个小文件（哈希冲突）。如果需要根据原始数据的某些属性进行后续处理，这种方法可能会比较复杂。