### 什么是 JPMS？

**JPMS** 全称是 **Java Platform Module System**，==即 **Java 平台模块系统**。简单来说，它是一种用于组织和管理 Java 代码的新方式。==

在 JPMS 出现之前，Java 应用程序通常被组织成 JAR 文件。这种方式有几个问题：

- **难以管理依赖**：==当一个 JAR 文件依赖另一个 JAR 文件时，开发者必须手动管理这些依赖==，经常导致类路径（Classpath）混乱。
    
- **巨大的运行时**：JDK 本身是一个巨大的“整体”，所有类库都在一起，==即使你的应用只用到了其中一小部分，也必须加载整个 JDK。==
    
- **隐藏的 API 访问**：`public` 关键字意味着类对所有人可见，这导致开发者可以访问不应该被访问的内部 API，从而让代码变得脆弱。


JPMS 的出现正是为了解决这些问题。它将代码组织成**模块（modules）**，每个模块都是一个独立的单元，包含：

- **模块描述文件（`module-info.java`）**：这是模块的核心。它声明了模块的名称，以及它**依赖**哪些模块（`requires`），==和它**向外暴露**哪些包==（`exports`）。
    
- **代码和资源**：模块内部的包和类文件。
    

通过这种方式，JPMS 强制性地让开发者明确地声明代码的依赖关系和可见性。

### JPMS 的核心好处

1. **强封装性**：模块化是实现强封装的关键。一个模块可以导出（`exports`）某些公共包，同时将其他所有内部包隐藏起来。==这意味着外部模块无法访问那些未导出的包，即使它们的类是 `public` 的。这提高了代码的安全性和可靠性==。
    
2. **明确的依赖关系**：模块描述文件清晰地列出了所有依赖。这解决了类路径混乱的问题，==因为编译器和运行时都能准确地知道每个模块需要什么，从而避免了“找不到类”的运行时错误。==
    
3. **更小的运行时**：有了模块系统，你可以只将应用程序实际需要的 JDK 模块打包进去，而不是整个 JDK。这使得打包后的应用更小，启动速度更快，尤其对于微服务和云原生应用非常有价值。
    
4. **更好的可维护性**：模块化的结构让代码更清晰，易于理解和维护。开发者可以专注于单一模块的功能，而不用担心无意中破坏其他模块。