Read/Write Through（读穿 / 写穿）策略原则是应用程序只和缓存交互，不再和数据库交互，而是由缓存和数据库交互，相当于更新数据库的操作由缓存自己代理了。

## Read Through

先查询缓存中数据是否存在，如果存在则直接返回，如果不存在，则由缓存组件负责从数据库查询数据，并将结果写入到缓存组件，最后缓存组件将数据返回给应用。

## Write Through

当有数据更新的时候，先查询要写入的数据在缓存中是否已经存在：

- 如果缓存中数据已经存在，则更新缓存中的数据，并且由缓存组件同步更新到数据库中，然后缓存组件告知应用程序更新完成。
- 如果缓存中数据不存在，直接更新数据库，然后返回；

> "读穿（Read Through）"和"写穿（Write Through）"这两个术语的含义可能给人带来一些混淆。实际上，==这两个术语并不是指应用程序穿过缓存去直接访问数据源，而是指在某些情况下（如缓存未命中或需要写入数据），缓存层会与底层数据源进行交互==。 在Read Through策略中，如果缓存未命中，那么缓存层会"穿透"到底层数据源去加载所需的数据，然后将这些数据存储在缓存中以便后续使用。 同样，在Write Through策略中，当有数据需要更新时，这个更新操作会同时作用于缓存和底层数据源，也就是说这个写入操作会"穿透"缓存层并更新底层的数据源。

Read Through/Write Through 策略的特点是由缓存节点而非应用程序来和数据库打交道，在我们开发过程中相比 Cache Aside 策略要少见一些，原因是我们经常使用的分布式缓存组件，无论是 Memcached 还是 Redis 都不提供写入数据库和自动加载数据库中的数据的功能。而我们在使用本地缓存的时候可以考虑使用这种策略